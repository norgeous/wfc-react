const tileIds = [
  '0000',

  '1000',
  '0100',
  '0010',
  '0001',

  '1100',
  '0110',
  '0011',
  '1001',

  '1110',
  '0111',
  '1011',
  '1101',
  
  '1111',
];

const getShape = (constraint) => {
  const points = {
    '0000': '50% 50%, 50% 50%, 50% 50%, 50% 50%, 50% 50%, 50% 50%, 50% 50%, 50% 50%',
    
    '1000': '0% 0%, 5% 0%, 10% 0%, 10% 5%, 10% 10%, 5% 10%, 0% 10%, 0% 5%',
    '0100': '90% 0%, 95% 0, 100% 0%, 100% 5%, 100% 10%, 95% 10%, 90% 10%, 90% 5%',
    '0010': '90% 90%, 95% 90%, 100% 90%, 100% 95%, 100% 100%, 95% 100%, 90% 100%, 90% 95%',
    '0001': '0% 90%, 5% 90%, 10% 90%, 10% 95%, 10% 100%, 5% 100%, 0% 100%, 0% 95%',
    
    '1100': '0% 0%, 50% 0%, 100% 0, 100% 5%, 100% 10%, 50% 10%, 0% 10%, 0% 5%',
    '0110': '90% 0%, 95% 0%, 100% 0%, 100% 50%, 100% 100%, 95% 100%, 90% 100%, 90% 50%',
    '0011': '0% 90%, 50% 90%, 100% 90%, 100% 95%, 100% 100%, 50% 100%, 0% 100%, 0% 95%',
    '1001': '0% 0%, 5% 0%, 10% 0%, 10% 50%, 10% 100%, 5% 100%, 0% 100%, 0% 50%',
    
    '1110': '0% 0%, 50% 0%, 100% 0%, 100% 50%, 100% 100%, 90% 100%, 90% 10%, 0% 10%',
    '0111': '90% 90%, 90% 0%, 100% 0%, 100% 50%, 100% 100%, 50% 100%, 0% 100%, 0% 90%',
    '1011': '0% 0%, 10% 0%, 10% 90%, 100% 90%, 100% 100%, 50% 100%, 0% 100%, 0% 50%',
    '1101': '0% 0%, 50% 0%, 100% 0%, 100% 10%, 10% 10%, 10% 100%, 0% 100%, 0% 50%',
    
    '1111': '0% 0%, 50% 0%, 100% 0%, 100% 50%, 100% 100%, 50% 100%, 0% 100%, 0% 50%',
  }[constraint];

  return `polygon(${points})`;
};

const Tile = styled.div`
  background:
    /* url("data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text x=%2250%22 y=%2280%22 text-anchor=%22middle%22 font-size=%2290%22 opacity=%22.1%22>ðŸ’—</text></svg>") */
    #f0f3;
  width: ${({ size }) => size}px;
  height: ${({ size }) => size}px;
  transition: all 400ms ease-in;
  clip-path: polygon(25% 25%, 50% 25%, 75% 25%, 75% 50%, 75% 75%, 50% 75%, 25% 75%, 25% 50%);
  clip-path: ${({ tileId }) => getShape(tileId)};
  ${({tileId}) => !tileIds.includes(tileId) && 'background: #0ff3;'}
  ${({tileId}) => tileId === '****' && 'background: #ff03;'};
  ${({tileId}) => !tileId.includes('*') && !tileIds.includes(tileId) && `
    clip-path: none;
    background: #f003;
  `}
`;

export default {
  name: 'css polygon walls',
  uncollapsed: '*',
  tileIds,
  Tile,
};
